<#include "managegeocodes_tabs.html" />
<@pageContainer>
	<@pageColumn>
		<@pageHeader title='#i18n{geocodes.manage_countries.title}'>
			<@offcanvas targetUrl="jsp/admin/plugins/geocodes/ManageCountries.jsp?view_createCountry" targetElement="#create-country-form" redirectForm=false id="create-country" title="#i18n{geocodes.create_country.title}" btnTitle="#i18n{geocodes.manage_countries.buttonAdd}" btnIcon="plus" position="end" />
		</@pageHeader>
		<@messages infos=infos />
		<@tabs> 
			<@tabsList2 tab="country" />
			<#assign page >ManageCountries</#assign>
			<#include "search_geocodes.html"/>
			<@tabContent>
				<@table>
					<@tr>
						<@th>#i18n{geocodes.manage_countries.columnCode}</@th>
						<@th>#i18n{geocodes.manage_countries.columnValue}</@th>
						<@th>#i18n{geocodes.manage_countries.columnAttached}</@th>
						<@th>#i18n{geocodes.manage_countries.columnDateValidityStart}</@th>
						<@th>#i18n{geocodes.manage_countries.columnDateValidityEnd}</@th>
						<@th>#i18n{geocodes.manage_countries.columnDeprecated}</@th>
						<@th>#i18n{portal.util.labelActions}</@th>
					</@tr>
					<@tableHeadBodySeparator />
					<#list country_list as country >
						<@tr>
							<@td>
								${country.code}
							</@td>
							<@td>
								${country.value}
							</@td>
							<@td>
								<#switch country.attached>
									<#case false>
										#i18n{geocodes.manage_countries.boolean.false}<#break>
									<#case true>
										#i18n{geocodes.manage_countries.boolean.true}<#break>
									<#default>
										${country.attached}<#break>
								</#switch>
							</@td>
							<@td>
								${country.dateValidityStart}
							</@td>
							<@td>
								${country.dateValidityEnd}
							</@td>
							<@td>
								<#switch country.deprecated>
									<#case false>
										#i18n{geocodes.manage_countries.boolean.false}<#break>
									<#case true>
										#i18n{geocodes.manage_countries.boolean.true}<#break>
									<#default>
										${country.deprecated}<#break>
								</#switch>
							</@td>
							<@td>
								<@offcanvas targetUrl="jsp/admin/plugins/geocodes/ManageCountries.jsp?view=modifyCountry&id=${country.id}" targetElement="#modify-country-form" redirectForm=false id="modify-country-${country.id}" title="#i18n{geocodes.modify_country.title}" btnIcon="edit" position="end" />
								<@aButton href='jsp/admin/plugins/geocodes/ManageCountries.jsp?action=confirmRemoveCountry&id=${country.id}' title='#i18n{portal.util.labelDelete}' buttonIcon='trash' hideTitle=['all'] color='btn-danger'  />
							</@td>
						</@tr>
					</#list>
				</@table>
			</@tabContent>
		</@tabs>
		<@paginationAdmin paginator=paginator combo=1 />
	</@pageColumn>
</@pageContainer>
